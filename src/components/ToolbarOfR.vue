<template>
  <div class="toolbar">
    <button class="tool-btn" @click="handleNew" title="æ–°å»º">â•</button>
    <button class="tool-btn" @click="handleSave" title="ä¿å­˜">ğŸ’¾</button>
    <button class="tool-btn" @click="handleRefresh" title="åˆ·æ–°">ğŸ”„</button>
    <button class="tool-btn" @click="handleCopy" title="å¤åˆ¶">CP</button>
  </div>
</template>

<script setup>
import { usePatternStore } from '@/stores/patternStore';

const emit = defineEmits(['refresh', 'copy']);

const patternStore = usePatternStore();

const handleNew = () => {
  console.log('handleNew');

  patternStore.newPattern()
  emit('refresh');
};

const handleSave = () => {
  console.log('handleSave');

  if (patternStore.savePattern()) {
    alert('ä¿å­˜æˆåŠŸï¼');
  } else {
    alert('å†…å®¹å·²å­˜åœ¨ï¼Œæ— éœ€é‡å¤ä¿å­˜');
  }
};

const handleRefresh = () => {
  // åˆ·æ–°åŠŸèƒ½ç”±çˆ¶ç»„ä»¶å¤„ç†
  console.log('emit handleRefresh');
  emit('refresh');
};

const handleCopy = () => {
  // å¤åˆ¶åŠŸèƒ½ç”±çˆ¶ç»„ä»¶å¤„ç†
  console.log('emit handleCopy');
  emit('copy');
};
</script>

<style scoped>
.toolbar {
  display: flex;
  gap: 5px;
}

.tool-btn {
  padding: 4px 8px;
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid #ccc;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}

.tool-btn:hover {
  background: #f0f0f0;
}
</style>
